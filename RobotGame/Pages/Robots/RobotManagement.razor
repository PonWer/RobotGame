@page "/robotmanagement"
@inherits RobotManagementBase

<h3>RobotManagement</h3>

<table class="table">
    <thead>
    <tr>
        <th>Job</th>
        <th>Health</th>
        <th>Battery</th>
    </tr>
    </thead>
    <tbody>
        @foreach (var robot in Game.RobotManager.Robots)
        {
            <tr>
                <td><select @onchange="@robot.OnSelectedJobChange" value="@robot.CurrentState.Name()">
                    @foreach (var template in AllJobs)
                    {
                        <option value=@template>@template</option>
                    }
                </select></td>
                <td>@robot.HealthPercentage% (@robot.Health_Current/@robot.Health_Max)</td>
                <td>@robot.Battery_Current/@robot.Battery_Max</td>
            </tr>
        }
    </tbody>
</table>

<button class="btn btn-primary" @onclick="AddRobot">
    Add Robot
</button>

